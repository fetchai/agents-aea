name: Example - Docker Image Pull

on: push

jobs:
  publish:
    runs-on: ubuntu-latest
    timeout-minutes: 30

    steps:
    - name: Checkout
      uses: actions/checkout@master

    - name: Setup GCloud - production
      uses: GoogleCloudPlatform/github-actions/setup-gcloud@master
      with:
          project_id: ${{ secrets.GCLOUD_FETCH_AI_PROD_PROJECT }}
          service_account_key: ${{ secrets.GCLOUD_FETCH_AI_PROD_KEY }}

    - name: Configure Docker
      run: |
        gcloud auth configure-docker
    
    # Push image to Google Container Registry
    - name: Build and Push Images
      run: |
        docker pull gcr.io/fetch-ai-images/soef:9e78611 # change this to latest tag

